<script>
  const ROWS = 6, COLS = 11, TOTAL = ROWS * COLS; // 66
  const MAX_IMAGES = 100;
  const grid = document.getElementById('grid');
  const shuffleBtn = document.getElementById('shuffleBtn');

  // 1.png の実寸を読み取り、CSS変数を更新
  function setSizeFromFirst() {
    return new Promise((resolve) => {
      const probe = new Image();
      probe.onload = () => {
        const w = probe.naturalWidth, h = probe.naturalHeight;
        const r = document.documentElement.style;
        r.setProperty('--w', w + 'px');
        r.setProperty('--h', h + 'px');
        resolve({w,h});
      };
      probe.onerror = () => resolve();
      probe.src = 'cards/1.png';  // ← cards フォルダに変更
    });
  }

  // 画像を配置
  function render() {
    const nums = pickNumbers();
    const frag = document.createDocumentFragment();
    nums.forEach(n => {
      const cell = document.createElement('div');
      cell.className = 'cell';
      const img = document.createElement('img');
      img.alt = `${n}.png`;
      img.src = `cards/${n}.png`; // ← cards フォルダに変更
      cell.appendChild(img);
      frag.appendChild(cell);
    });
    grid.innerHTML = '';
    grid.appendChild(frag);
  }
</script>
